{"version":3,"file":"index.js","sources":["../src/js/work-together.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\n\nconst form = document.querySelector('.work-together-form');\nconst input = document.querySelector('.work-together-input');\nconst message = document.querySelector('.work-together-message');\nconst errorInput = document.querySelector('.work-together-error-input');\nconst errorMessage = document.querySelector('.work-together-error-message');\nconst close = document.querySelector('.work-together-close-button');\nconst backdrop = document.querySelector('.work-together-backdrop');\nconst title = document.querySelector('.work-together-modal-title');\nconst text = document.querySelector('.work-together-modal-text');\nconst emailLink = document.querySelector('.email-link');\nconst phoneLink = document.querySelector('.phone-link');\n\n\n\nlet emailTouched = false;\n\ninput.addEventListener('blur', () => {\n  emailTouched = true;\n  checkEmail();\n});\n\nfunction checkEmail() {\n  if (!emailTouched) return; \n\n  if (input.validity.valid) {\n    errorInput.style.display = 'none';\n  } else {\n    errorInput.style.display = 'block';\n  }\n}\n\ninput.addEventListener('input', checkEmail);\n\n\n\nform.addEventListener('submit', event => {\n    event.preventDefault();   \n\n    if (input.value.trim() === '') {\n        errorInput.style.display = 'block';\n        errorInput.textContent = 'the field must be filled';\n    } \n\n    if (message.value.trim() === '') {\n        errorMessage.style.display = 'block';\n    } else {\n        errorMessage.style.display = 'none';\n    }\n\n    if (input.value.trim() !== '' && message.value.trim() !== '') {\n        axios \n            .post('https://portfolio-js.b.goit.study/api/requests', {\n              email: input.value,\n              comment: message.value,\n            })\n            .then(response => {\n                backdrop.classList.add('backdrop-opened');\n                document.body.style.overflow = 'hidden';\n\n                title.textContent = response.data.title;\n                text.textContent = response.data.message;\n\n                form.reset();\n            })\n            .catch(error => {\n                iziToast.error({\n                    title: 'Error',\n                    message: error.message,\n                    position: 'center',\n                });\n        })\n    }\n}) \n    \n\n\nfunction closeModal() {\n  setTimeout(() => {\n    backdrop.classList.remove('backdrop-opened');\n    document.body.overflow = 'auto';\n  }, 150);\n}\n\nclose.addEventListener('click', closeModal);\n\nwindow.addEventListener('keydown', event => {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n});\n\nbackdrop.addEventListener('click', event => {\n  if (event.target === event.currentTarget) {\n    closeModal();\n  }\n});\n\n\n\nemailLink.addEventListener('click', () => {\n  emailLink.blur();\n});\n\nphoneLink.addEventListener('click', () => {\n  phoneLink.blur();\n});"],"names":["form","input","message","errorInput","errorMessage","close","backdrop","title","text","emailLink","phoneLink","emailTouched","checkEmail","event","axios","response","error","iziToast","closeModal"],"mappings":"6vBAGA,MAAMA,EAAO,SAAS,cAAc,qBAAqB,EACnDC,EAAQ,SAAS,cAAc,sBAAsB,EACrDC,EAAU,SAAS,cAAc,wBAAwB,EACzDC,EAAa,SAAS,cAAc,4BAA4B,EAChEC,EAAe,SAAS,cAAc,8BAA8B,EACpEC,EAAQ,SAAS,cAAc,6BAA6B,EAC5DC,EAAW,SAAS,cAAc,yBAAyB,EAC3DC,EAAQ,SAAS,cAAc,4BAA4B,EAC3DC,EAAO,SAAS,cAAc,2BAA2B,EACzDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAY,SAAS,cAAc,aAAa,EAItD,IAAIC,EAAe,GAEnBV,EAAM,iBAAiB,OAAQ,IAAM,CACnCU,EAAe,GACfC,EAAY,CACd,CAAC,EAED,SAASA,GAAa,CACfD,IAEDV,EAAM,SAAS,MACjBE,EAAW,MAAM,QAAU,OAE3BA,EAAW,MAAM,QAAU,QAE/B,CAEAF,EAAM,iBAAiB,QAASW,CAAU,EAI1CZ,EAAK,iBAAiB,SAAUa,GAAS,CACrCA,EAAM,eAAc,EAEhBZ,EAAM,MAAM,KAAI,IAAO,KACvBE,EAAW,MAAM,QAAU,QAC3BA,EAAW,YAAc,4BAGzBD,EAAQ,MAAM,KAAI,IAAO,GACzBE,EAAa,MAAM,QAAU,QAE7BA,EAAa,MAAM,QAAU,OAG7BH,EAAM,MAAM,SAAW,IAAMC,EAAQ,MAAM,KAAM,IAAK,IACtDY,EACK,KAAK,iDAAkD,CACtD,MAAOb,EAAM,MACb,QAASC,EAAQ,KAClB,CAAA,EACA,KAAKa,GAAY,CACdT,EAAS,UAAU,IAAI,iBAAiB,EACxC,SAAS,KAAK,MAAM,SAAW,SAE/BC,EAAM,YAAcQ,EAAS,KAAK,MAClCP,EAAK,YAAcO,EAAS,KAAK,QAEjCf,EAAK,MAAO,CACf,CAAA,EACA,MAAMgB,GAAS,CACZC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EAAM,QACf,SAAU,QAC9B,CAAiB,CACR,CAAA,CAET,CAAC,EAID,SAASE,GAAa,CACpB,WAAW,IAAM,CACfZ,EAAS,UAAU,OAAO,iBAAiB,EAC3C,SAAS,KAAK,SAAW,MAC1B,EAAE,GAAG,CACR,CAEAD,EAAM,iBAAiB,QAASa,CAAU,EAE1C,OAAO,iBAAiB,UAAWL,GAAS,CACtCA,EAAM,OAAS,UACjBK,EAAY,CAEhB,CAAC,EAEDZ,EAAS,iBAAiB,QAASO,GAAS,CACtCA,EAAM,SAAWA,EAAM,eACzBK,EAAY,CAEhB,CAAC,EAIDT,EAAU,iBAAiB,QAAS,IAAM,CACxCA,EAAU,KAAM,CAClB,CAAC,EAEDC,EAAU,iBAAiB,QAAS,IAAM,CACxCA,EAAU,KAAM,CAClB,CAAC"}